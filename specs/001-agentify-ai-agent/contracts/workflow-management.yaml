# Workflow Management API Contracts

## Create Workflow

**Endpoint**: POST /api/workflows
**Description**: 创建一个新的工作流

**Request**:
```json
{
  "name": "string",
  "description": "string",
  "steps": []
}
```

**Response**:
```json
{
  "id": "string",
  "name": "string",
  "description": "string",
  "steps": [],
  "createdAt": "2025-09-23T00:00:00.000Z",
  "updatedAt": "2025-09-23T00:00:00.000Z"
}
```

**Error Responses**:
- 400: Invalid input data
- 500: Server error

## Get Workflow

**Endpoint**: GET /api/workflows/{workflowId}
**Description**: 获取指定工作流的详细信息

**Response**:
```json
{
  "id": "string",
  "name": "string",
  "description": "string",
  "steps": [],
  "createdAt": "2025-09-23T00:00:00.000Z",
  "updatedAt": "2025-09-23T00:00:00.000Z"
}
```

**Error Responses**:
- 404: Workflow not found
- 500: Server error

## Update Workflow

**Endpoint**: PUT /api/workflows/{workflowId}
**Description**: 更新指定工作流的信息

**Request**:
```json
{
  "name": "string",
  "description": "string",
  "steps": []
}
```

**Response**:
```json
{
  "id": "string",
  "name": "string",
  "description": "string",
  "steps": [],
  "createdAt": "2025-09-23T00:00:00.000Z",
  "updatedAt": "2025-09-23T00:00:00.000Z"
}
```

**Error Responses**:
- 400: Invalid input data
- 404: Workflow not found
- 500: Server error

## Delete Workflow

**Endpoint**: DELETE /api/workflows/{workflowId}
**Description**: 删除指定的工作流

**Response**:
```json
{
  "success": true
}
```

**Error Responses**:
- 404: Workflow not found
- 500: Server error

## List Workflows

**Endpoint**: GET /api/workflows
**Description**: 获取所有工作流的列表

**Response**:
```json
[
  {
    "id": "string",
    "name": "string",
    "description": "string",
    "createdAt": "2025-09-23T00:00:00.000Z",
    "updatedAt": "2025-09-23T00:00:00.000Z"
  }
]
```

**Error Responses**:
- 500: Server error

## Add Workflow to Agent

**Endpoint**: POST /api/agents/{agentId}/workflows
**Description**: 为指定 AI Agent 添加工作流

**Request**:
```json
{
  "workflowId": "string"
}
```

**Response**:
```json
{
  "success": true
}
```

**Error Responses**:
- 400: Invalid input data
- 404: Agent or workflow not found
- 500: Server error

## Remove Workflow from Agent

**Endpoint**: DELETE /api/agents/{agentId}/workflows/{workflowId}
**Description**: 从指定 AI Agent 移除工作流

**Response**:
```json
{
  "success": true
}
```

**Error Responses**:
- 404: Agent or workflow not found
- 500: Server error

## Get Agent Workflows

**Endpoint**: GET /api/agents/{agentId}/workflows
**Description**: 获取指定 AI Agent 的工作流列表

**Response**:
```json
[
  {
    "id": "string",
    "name": "string",
    "description": "string",
    "createdAt": "2025-09-23T00:00:00.000Z",
    "updatedAt": "2025-09-23T00:00:00.000Z"
  }
]
```

**Error Responses**:
- 404: Agent not found
- 500: Server error